{% extends "layout.html" %}

{% block content %}
<div style="text-align:center;">
	
<h3 >Digital Neighbourhood</h3>

<!-- GET Request for filtering -->
<div id="filterForm" style="display: none">
<form>
	<div class="row">
		<div class="three columns">
			<label>Full Name</label>
			<input class="u-full-width" type="text" placeholder="Full Name" name="name">
		</div>
		<div class="three columns">
			<label>Location</label>
			<select class="u-full-width" multiple name='loc'>
				<option value="CHN">Chennai</option>
				<option value="BGLR">Bangalore</option>
			</select>
		</div>
		<div class="three columns">
			<label>Skills</label>
			<select class="u-full-width" multiple name='skills'>
				<option value="frontend">Frontend</option>
				<option value="backend">Backend</option>
			</select>
		</div>
		<div class="three columns">
			<label>Student/Working</label>
			<select class="u-full-width" name="status">
				<option value="Working">Working</option>
				<option value="Student">Student</option>
			</select>
		</div>
	</div>
	<button type="submit">FILTER</button>
</form>
</div>

<input id="filter" onclick="filterForm()" class="button" type="button" value="Toggle Filter">

<script>
	function filterForm(){
		document.getElementById("filter").outerHTML = ""
		document.getElementById("filterForm").style.display = "block"
	}
</script>


<! -- CARD -->
<style>
.card-container {
	margin-left: auto;
	margin-right: auto;
	width: 90%;
}

.card-wrapper {
	/*border: 1px solid white;*/
	margin-bottom: 10px;
	border-radius: 5px;
}

.card {
	/* auto height */
}	

.container {
	padding: 10px 0px 10px 0px;
	width: 95%;
}

/* For Elements insode card */

.full-name {
	font-size: 120%;
	color: rgba(255,0,0,.6);
	font-weight: 470;
	height: 26px; /* decreasing ht. */
}

.skills {
	  height: 270px; </* incrase/decr me to increse/decr ht. of card */
}

.city {
	font-size: 75%;
	color: rgba(255,255,255,0.6);
}

.communities {
}

.bio {
	font-style: italic;
	font-size: 90%;
	font-weight: 401;
	color: rgba(255,255,255,.6);
	padding-top: 4%;
}

.social {
  position: absolute;
  bottom: 0;
}

.icon-style {
	color: #ffb952;
}


/* SKILL */
/* ----- */

html,
body {
  height: 100%
}

section {
  background: #181818;
  border: 1px solid #181818;
  padding-top:1%;
  color: black;
}


.chartjs {
	/* background-color: white; */
}

</style>

<!-- cards page -->
<div class="card-container">

<script>
// plot skills radar dynamically (helps for loop)
function plotSkillsRadar(canvasId, labelsList, interestDataList, skillDataList)
{
var ctx = document.getElementById(canvasId);

var data = {
    labels: labelsList, //["Website Design", "UX Design", "Marketing", "Javascript", "HTML & CSS", "Ruby on Rails", "Tech Demos", "Leading Teams"],
    datasets: [
        {
            label: "Interest",
            backgroundColor: "rgba(43,176,212,.4)", //blue
            borderColor: "rgba(43,176,212,.6)",
            pointBackgroundColor: "rgba(0,0,0,0)",
            pointBorderColor: "rgba(0,0,0,0)",
            data: interestDataList //[100, 70, 85, 90, 95, 75, 90, 100]
        },
        {
            label: "Relative Skill", // green
            backgroundColor: "rgba(140,200,50,.4)",
            borderColor: "rgba(140,200,50,.6)",
            pointBackgroundColor: "rgba(0,0,0,0)",
            pointBorderColor: "rgba(0,0,0,0)",
            data: skillDataList //[85, 75, 70, 80, 85, 60, 75, 50]
        }
    ]
};


var options = {
	legend: {
            labels: {
                fontColor: "{{"rgba(255,255,255,.3)"}}",//"rgba(0,0,0,.8)",
            }
        },
	scale: { 
		angleLines: { color: 'rgba(0,0,0,1)' },
		gridLines: { color: 'rgba(0,0,0,.3)' },
		pointLabels: {fontColor: 'rgba(255,255,255,,.7)'},
		ticks : {backdropColor: 'rgba(0,0,0,0)', fontColor: 'rgba(255,255,255,.5)'}
		
	}
}

new Chart(ctx, {
	'type':'radar',
	'data': data, 
	options: options
});

} // end function plotSkillsRadar

</script>

	
{% for member in members %}
<section class="card-wrapper">
	<div class="card">
		<div class="container">
			
			<div class="row">
				<div class="six columns">
					<p class="u-full-width full-name">
						{{ member.full_name }} <br />
						<span class="city">
							{{ member.cur_city }}
						</span>
					</p>
					<div class="row">
							<div class="twelve columns">
								<span class="communities">
									{% set comms = member.communities.split(',') %}
									{% for com in comms %}
									  <code>{{ com }} </code> &nbsp; 
									{% endfor %}
								</span>
							</div>
					</div>
					<div class="row">
						<div class="twelve columns bio">
							‚ùù {{ member.bio }}
							<br/> <br/>
						</div>
					</div>
					<div class="row">
						<div class="six columns u-full-width social">
							<i class="fa fa-twitter icon-style"></i> &nbsp;
							<i class="fa fa-linkedin icon-style"></i> &nbsp;
							<i class="fa fa-github icon-style"></i> &nbsp;
							<i class="fa fa-whatsapp icon-style"></i> &nbsp;
							<i class="fa fa-envelope icon-style"></i> &nbsp;
						</div>
					</div>
				</div>
				<!-- right half -->
				<div class="six columns skills">
					
					<!-- Skills chart here -->
					<canvas id="{{member.id}}" class="chartjs" width="165" height="115" ></canvas>
					
				</div>
			</div>
			

			
		</div>
		</div>
</section>


<script>
plotSkillsRadar(
		canvasId="{{member.id}}",
		labelsList=["Website Design", "UX Design", "Marketing", "Javascript", "HTML & CSS", "Ruby on Rails", "Tech Demos", "Leading Teams"],
		InterestDataList=[100, 70, 90, 90, 95, 75,  90, 100],
		skillDataList=[85, 75, 70, 80, 85, 60, 75, 50]
);
</script>
{% endfor %}



</div>
{% endblock %}